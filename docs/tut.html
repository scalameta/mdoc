<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Coming from tut · mdoc</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This is a reference guide to migrating from tut to mdoc. It&#x27;s not possible to"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Coming from tut · mdoc"/><meta property="og:type" content="website"/><meta property="og:url" content="https://scalameta.org/mdoc/mdoc/index.html"/><meta property="og:description" content="This is a reference guide to migrating from tut to mdoc. It&#x27;s not possible to"/><meta property="og:image" content="https://scalameta.org/mdoc/mdoc/img/scalameta-logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://scalameta.org/mdoc/mdoc/img/scalameta-logo.png"/><link rel="shortcut icon" href="/mdoc/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="alternate" type="application/atom+xml" href="https://scalameta.org/mdoc/mdoc/blog/atom.xml" title="mdoc Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://scalameta.org/mdoc/mdoc/blog/feed.xml" title="mdoc Blog RSS Feed"/><link rel="stylesheet" href="/mdoc/css/custom.css"/><script src="/mdoc/js/scrollSpy.js"></script><link rel="stylesheet" href="/mdoc/css/main.css"/><script src="/mdoc/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/mdoc/"><img class="logo" src="/mdoc/img/mdoc-logo.png" alt="mdoc"/><h2 class="headerTitleWithLogo">mdoc</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/mdoc/docs/installation.html" target="_self">Docs</a></li><li class=""><a href="/mdoc/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/scalameta/mdoc" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Overview</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/mdoc/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/mdoc/docs/why.html">Why mdoc?</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/mdoc/docs/tut.html">Coming from tut</a></li><li class="navListItem"><a class="navItem" href="/mdoc/docs/changelog.html">Changelog</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Modifiers</h3><ul class=""><li class="navListItem"><a class="navItem" href="/mdoc/docs/modifiers.html">JVM</a></li><li class="navListItem"><a class="navItem" href="/mdoc/docs/js.html">Scala.js</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Site generators</h3><ul class=""><li class="navListItem"><a class="navItem" href="/mdoc/docs/docusaurus.html">Docusaurus</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/scalameta/mdoc/edit/main/docs/tut.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Coming from tut</h1></header><article><div><span><p>This is a reference guide to migrating from tut to mdoc. It's not possible to
automatically migrate tut documentation to mdoc because mdoc uses
<a href="/mdoc/docs/why.html#program-semantics">program semantics</a> while tut uses REPL semantics.
This means that some tut documentation can't compile with mdoc without manual
changes.</p>
<table>
<thead>
<tr><th>tut</th><th>mdoc</th></tr>
</thead>
<tbody>
<tr><td><code>:fail</code></td><td><code>:fail</code> for compile error, <code>:crash</code> for runtime error</td></tr>
<tr><td><code>:nofail</code></td><td>n/a</td></tr>
<tr><td><code>:silent</code></td><td><code>:silent</code></td></tr>
<tr><td><code>:plain</code></td><td>n/a</td></tr>
<tr><td><code>:invisible</code></td><td><code>:invisible</code></td></tr>
<tr><td><code>:book</code></td><td>can be removed, mdoc uses book mode by default</td></tr>
<tr><td><code>:evaluated</code></td><td>n/a</td></tr>
<tr><td><code>:passthrough</code></td><td><code>:passthrough</code></td></tr>
<tr><td><code>:decorate(param)</code></td><td>n/a</td></tr>
<tr><td><code>:reset</code></td><td><code>:reset</code></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="migration-script"></a><a href="#migration-script" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migration script</h2>
<p>The following script can be used to translate the most basic and mechanical
differences between tut and mdoc. It is normal that mdoc reports compile errors
after running the migration script and you need some manual fixing to get the
documents compiling.</p>
<p>File: <a href="https://github.com/scalameta/mdoc/blob/main/bin/migrate-tut.sh">migrate-tut.sh</a></p>
<pre><code class="hljs css language-text">#!/bin/bash
find . -name '*.md' -type f -exec perl -pi -e '
  s/```tut:book/```scala mdoc/g;
  s/```tut/```scala mdoc/g;
' {} +
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="sbt-tut"></a><a href="#sbt-tut" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sbt-tut</h2>
<p>Use the sbt-mdoc plugin instead of sbt-tut and run <code>sbt docs/mdoc</code> instead of
<code>sbt docs/tut</code>.</p>
<pre><code class="hljs css language-diff">// project/plugins.sbt
<span class="hljs-deletion">- addSbtPlugin("org.tpolecat" % "tut-plugin" % "0.6.10")</span>
<span class="hljs-addition">+ addSbtPlugin("org.scalameta" % "sbt-mdoc" % "2.3.7")</span>
// build.sbt
<span class="hljs-deletion">- enablePlugins(TutPlugin)</span>
<span class="hljs-addition">+ enablePlugins(MdocPlugin)</span>
</code></pre>
<p>The sbt-mdoc plugin exposes only one task <code>mdoc</code>.</p>
<table>
<thead>
<tr><th>tut</th><th>mdoc</th></tr>
</thead>
<tbody>
<tr><td><code>tut</code></td><td><code>mdoc</code></td></tr>
<tr><td><code>tutQuick</code></td><td><code>mdoc --watch</code></td></tr>
<tr><td><code>tutOnly path/doc.md</code></td><td><code>mdoc --include doc.md</code></td></tr>
<tr><td><code>tutSourceDirectory</code></td><td><code>mdocIn</code></td></tr>
<tr><td><code>tutTargetDirectory</code></td><td><code>mdocOut</code></td></tr>
<tr><td><code>tutNameFilter</code></td><td><code>mdoc --include &lt;glob&gt; --exclude &lt;glob&gt;</code></td></tr>
<tr><td><code>scalacOptions in Tut</code></td><td><code>scalacOptions in Compile</code></td></tr>
<tr><td><code>tutPluginJars</code></td><td><code>addCompilerPlugin()</code></td></tr>
</tbody>
</table>
<p>Note that mdoc does not use the Scala REPL so compiler options like
<code>-Ywarn-unused</code> work normally.</p>
<h2><a class="anchor" aria-hidden="true" id="fail"></a><a href="#fail" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>:fail</code></h2>
<p>The tut <code>:fail</code> modifier is split in two separate mdoc modifiers.</p>
<ul>
<li><code>:fail</code>: for compile errors, mdoc uses a custom compilation mode for these
code fences.</li>
<li><code>:crash</code>: for runtime errors, mdoc instruments these code fences like normal
except they're wrapped in <code>try/catch</code> blocks.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="double-binding"></a><a href="#double-binding" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Double binding</h2>
<p>It's not possible by default to define the same variable name twice with mdoc.
In tut, the following program is valid.</p>
<pre><code class="hljs css language-md"><span class="hljs-code">```tut
val x = 1
val x = 2
```</span>
</code></pre>
<p>In mdoc, that program does not compile because the document is compiled as a
normal Scala program.</p>
<p>Before:</p>
<pre><code class="hljs">```scala mdoc
val x = <span class="hljs-number">1</span>
```
```scala mdoc
val x = <span class="hljs-number">2</span>
```
</code></pre>
<p>Error:</p>
<pre><code class="hljs"><span class="hljs-keyword">error: </span>tut.md:5:5: x is already defined as value x
val x = 2
    ^
</code></pre>
<p>One workaround is to use the <a href="/mdoc/docs/modifiers.html#nest"><code>mdoc:nest</code></a> modifier, which
wraps subsequent code blocks in <code>scala.Predef.locally{...}</code>.</p>
<p>Before:</p>
<pre><code class="hljs">```scala mdoc
val x = <span class="hljs-number">1</span>
val y = <span class="hljs-number">2</span>
```
```scala mdoc:nest
val x = <span class="hljs-number">3</span> + y
```
</code></pre>
<p>After:</p>
<pre><code class="hljs"><span class="hljs-string">```scala</span>
<span class="hljs-string">val</span> <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">1</span>
<span class="hljs-string">//</span> <span class="hljs-attr">x:</span> <span class="hljs-string">Int</span> <span class="hljs-string">=</span> <span class="hljs-number">1</span>
<span class="hljs-string">val</span> <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">2</span>
<span class="hljs-string">//</span> <span class="hljs-attr">y:</span> <span class="hljs-string">Int</span> <span class="hljs-string">=</span> <span class="hljs-number">2</span>
<span class="hljs-string">```</span>
<span class="hljs-string">```scala</span>
<span class="hljs-string">val</span> <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">3</span> <span class="hljs-string">+</span> <span class="hljs-string">y</span>
<span class="hljs-string">//</span> <span class="hljs-attr">x:</span> <span class="hljs-string">Int</span> <span class="hljs-string">=</span> <span class="hljs-number">5</span>
<span class="hljs-string">```</span>
</code></pre>
<p>Another workaround is to define a separate variable name.</p>
<pre><code class="hljs css language-diff"> ```scala mdoc
<span class="hljs-deletion">-val x = 2</span>
<span class="hljs-addition">+val y = 2</span>
 ```
</code></pre>
<p>Another workaround is to use the <code>:reset</code> modifier.</p>
<pre><code class="hljs css language-diff"><span class="hljs-deletion">-```scala mdoc</span>
<span class="hljs-addition">+```scala mdoc:reset</span>
 val x = 2
 ```
</code></pre>
<p>However, note that <code>:reset</code> discards all previous imports and declarations in
the document.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/mdoc/docs/why.html"><span class="arrow-prev">← </span><span>Why mdoc?</span></a><a class="docs-next button" href="/mdoc/docs/changelog.html"><span>Changelog</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#migration-script">Migration script</a></li><li><a href="#sbt-tut">sbt-tut</a></li><li><a href="#fail"><code>:fail</code></a></li><li><a href="#double-binding">Double binding</a></li></ul></nav></div><footer class="nav-footer" id="footer" style="background-color:#7F4623"><section class="sitemap"><a href="/mdoc/" class="nav-home"><img src="/mdoc/img/mdoc-logo.png" alt="mdoc" width="66" height="58"/></a><div><h5>Docs</h5><a href="/mdoc/docs/installation.html">Get started</a></div><div><h5>Community</h5><a href="https://gitter.im/scalameta/mdoc" target="_blank">Chat on Gitter</a></div><div><h5>More</h5><a href="https://github.com/scalameta/mdoc" target="_blank">GitHub</a></div></section><section class="copyright">Copyright © 2023 mdoc developers</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5791175eba35c6626d93ae96610a8ae9',
                indexName: 'scalamenta_mdoc',
                inputSelector: '#search_input_react'
              });
            </script></body></html>